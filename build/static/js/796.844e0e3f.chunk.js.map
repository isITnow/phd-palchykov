{"version":3,"file":"static/js/796.844e0e3f.chunk.js","mappings":"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","sources":["assets/utils/setPageTitle.js","components/shared/Section.jsx","webpack://phd-palchykov/./src/components/PagesNav/pagesNav.module.css?3ec1","components/PagesNav/PagesNav.jsx","webpack://phd-palchykov/./src/components/Publications/publication.module.css?6378","components/Publications/Publication.jsx","components/Publications/PublicationsList.jsx","pages/PublicationsPage.jsx","redux/publications/selectorPublications.js"],"sourcesContent":["const setPageTitle = (pageTitle) => {\n  const baseTitle = \"Prof. Dr. Palchykov\";\n  if (pageTitle) {\n    return (document.title = `${pageTitle} | ${baseTitle}`);\n  }\n\n  return (document.title = baseTitle);\n};\n\nexport default setPageTitle;\n","const Section = ({ children }) => {\n  return <section className=\"py-4\">{children}</section>;\n};\n\nexport default Section;\n","// extracted by mini-css-extract-plugin\nexport default {\"hoverEffect\":\"pagesNav_hoverEffect__jmdGq\"};","import { Link } from \"react-router-dom\";\nimport s from \"./pagesNav.module.css\";\n\nconst PagesNav = ({ currentPeriodId, periods, margin = \"my-0\" }) => {\n  const isDisabled = (id) => (currentPeriodId === id ? \"none\" : \"auto\");\n  const getStyle = (id) =>\n    currentPeriodId === id\n      ? \"mb-3 text-danger fw-bold\"\n      : `mb-3 text-secondary fw-bold ${s.hoverEffect}`;\n  return (\n    <ul className={`text-end ${margin}`}>\n      {periods.map(({ title, id }) => (\n        <li key={id}>\n          <Link\n            style={{ pointerEvents: isDisabled(id) }}\n            className={getStyle(id)}\n            to={`/periods/${id}/publications`}\n          >\n            {title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default PagesNav;\n","// extracted by mini-css-extract-plugin\nexport default {\"img\":\"publication_img__WoioI\",\"hoverEffect\":\"publication_hoverEffect__DFMy5\"};","import { Link } from \"react-router-dom\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { removePublicationThunk } from \"../../redux/publications/operationsPublications\";\nimport { selectPublications } from \"../../redux/publications/selectorPublications\";\n\nimport useSignInStatus from \"../../assets/customHooks/useSignInStatus\";\n\nimport s from \"./publication.module.css\";\n\nconst Publication = ({ publication }) => {\n  const {\n    id,\n    publication_period_id,\n    title,\n    year,\n    sequence_number,\n    authors,\n    source,\n    source_url,\n    cover_url,\n    abstract_url,\n  } = publication;\n\n  const { status } = useSelector(selectPublications);\n  const isLoggedIn = useSignInStatus();\n  const btnDisabled = status === \"pending\";\n  const dispatch = useDispatch();\n\n  const handleClick = () => {\n    // alert(\"Are you sure you want to delete item?\");\n    dispatch(\n      removePublicationThunk({\n        period_id: publication_period_id,\n        publication_id: id,\n      })\n    );\n  };\n\n  return (\n    <div className=\"card h-100 shadow-sm\">\n      <div className=\"card-body d-flex flex-column justify-content-between\">\n        <div>\n          <div className=\"d-flex\">\n            <span className=\"me-2 text-secondary fs-5 lh-sm\">\n              {sequence_number}.\n            </span>\n            <h5 className=\"card-title text-danger\">{title}</h5>\n          </div>\n          {cover_url && abstract_url ? (\n            <div className=\"row row-cols-2 mt-2\">\n              <div className=\"col\">\n                <img\n                  src={cover_url}\n                  className={`shadow rounded ${s.img}`}\n                  alt={cover_url}\n                />\n              </div>\n              <div className=\"col\">\n                <p className=\"card-subtitle mt-2\">{authors.join(\"; \")}</p>\n                <a href={source_url} target=\"_blank\" rel=\"noreferrer noopener\">\n                  <p className=\"fst-italic mt-2\">{source}</p>\n                </a>\n              </div>\n            </div>\n          ) : (\n            <div>\n              <p className=\"card-subtitle mt-2\">{authors.join(\"; \")}</p>\n              <a href={source_url} target=\"_blank\" rel=\"noreferrer noopener\">\n                <p className=\"fst-italic mt-2\">{source}</p>\n              </a>\n            </div>\n          )}\n          <div className=\"mt-3\">\n            <img\n              src={abstract_url || cover_url}\n              className={`shadow  rounded ${s.img}`}\n              alt={abstract_url || cover_url}\n            />\n          </div>\n        </div>\n        <div className=\"d-flex justify-content-between align-items-end mt-3\">\n          <small className=\"fst-italic text-secondary\">year: {year}</small>\n          {isLoggedIn && (\n            <div className=\"btn-group\">\n              <Link\n                className=\"btn btn-sm btn-primary\"\n                to={`/periods/${publication_period_id}/publications/${id}/edit`}\n              >\n                edit\n              </Link>\n              <button\n                disabled={btnDisabled}\n                type=\"button\"\n                className=\"btn btn-sm btn-danger\"\n                onClick={() => {\n                  handleClick();\n                }}\n              >\n                delete\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Publication;\n","import { motion } from \"framer-motion\";\nimport Publication from \"./Publication\";\n\nconst listItem = {\n  initial: { opacity: 0, y: -15 },\n  animate: { opacity: 1, y: 0 },\n  transition: { duration: 0.8 },\n  exit: { opacity: 0, y: -15 },\n};\n\nconst PublicationsList = ({ publications }) => {\n  return (\n    <ul className=\"row row-cols-1 row-cols-md-2 g-2 mb-0\">\n      {publications.map((publication) => (\n        <motion.li\n          className=\"col\"\n          key={publication.id}\n          initial=\"initial\"\n          animate=\"animate\"\n          transition=\"transition\"\n          exit=\"exit\"\n          variants={listItem}\n        >\n          <Publication publication={publication} />\n        </motion.li>\n      ))}\n    </ul>\n  );\n};\n\nexport default PublicationsList;\n","import { Link, useParams } from \"react-router-dom\";\nimport { useEffect } from \"react\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getPublicationsThunk } from \"../redux/publications/operationsPublications\";\nimport { selectPublications } from \"../redux/publications/selectorPublications\";\nimport { selectPeriods } from \"../redux/publicationPeriods/selectorPublicationPeriods\";\n\nimport Alert from \"../components/shared/Alert\";\nimport { useAlert } from \"../assets/customHooks/useAlert\";\n\nimport Loader from \"../components/shared/Loader\";\nimport PagesNav from \"../components/PagesNav/PagesNav\";\nimport PublicationsList from \"../components/Publications/PublicationsList\";\nimport Section from \"../components/shared/Section\";\n\nimport useSignInStatus from \"../assets/customHooks/useSignInStatus\";\nimport setPageTitle from \"../assets/utils/setPageTitle\";\n\nconst PublicationsPage = () => {\n  setPageTitle(\"Publications\");\n  const { period_id } = useParams();\n  const dispatch = useDispatch();\n  const { periods } = useSelector(selectPeriods);\n  const { publications, status, error } = useSelector(selectPublications);\n  const { alert, showAlert } = useAlert();\n  const isLoggedIn = useSignInStatus();\n\n  useEffect(() => {\n    dispatch(getPublicationsThunk(period_id));\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\",\n    });\n  }, [dispatch, period_id]);\n\n  useEffect(() => {\n    if (status === \"rejected\") {\n      showAlert(`${error}. Please contact your administrator!`, \"danger\");\n      return;\n    }\n    if (status === \"removed\") {\n      showAlert(\"Publication deleted successfully\", \"success\");\n      return;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [status]);\n\n  if (status === \"loading\") {\n    return <Loader />;\n  }\n\n  return (\n    <Section>\n      <Alert state={alert} />\n      <PagesNav\n        margin={\"mb-3\"}\n        periods={periods}\n        currentPeriodId={parseInt(period_id)}\n      />\n      <PublicationsList publications={publications} />\n      <div className=\"d-flex justify-content-between mt-3\">\n        <div>\n          {isLoggedIn && (\n            <Link\n              className=\"btn btn-primary\"\n              to={`/periods/${period_id}/publications/new`}\n            >\n              new publication\n            </Link>\n          )}\n        </div>\n        {publications.length > 4 && (\n          <PagesNav periods={periods} currentPeriodId={parseInt(period_id)} />\n        )}\n      </div>\n    </Section>\n  );\n};\n\nexport default PublicationsPage;\n","export const selectPublications = (state) => state.publications;\n"],"names":["pageTitle","baseTitle","document","title","concat","_ref","children","_jsx","className","currentPeriodId","periods","_ref$margin","margin","isDisabled","id","getStyle","s","map","_ref2","Link","style","pointerEvents","to","publication","publication_period_id","year","sequence_number","authors","source","source_url","cover_url","abstract_url","status","useSelector","selectPublications","isLoggedIn","useSignInStatus","btnDisabled","dispatch","useDispatch","_jsxs","src","alt","join","href","target","rel","disabled","type","onClick","removePublicationThunk","period_id","publication_id","listItem","initial","opacity","y","animate","transition","duration","exit","publications","motion","li","variants","Publication","setPageTitle","useParams","selectPeriods","_useSelector2","error","_useAlert","useAlert","alert","showAlert","useEffect","getPublicationsThunk","window","scrollTo","top","behavior","Loader","Section","Alert","state","PagesNav","parseInt","PublicationsList","length"],"sourceRoot":""}