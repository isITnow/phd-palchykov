"use strict";(self.webpackChunkphd_palchykov=self.webpackChunkphd_palchykov||[]).push([[204],{6008:function(e,n,t){var s=t(1413),r=t(9439),a=t(5987),i=t(2506),l=t(9578),c=t(3329),o=["label"];n.Z=function(e){var n=e.label,t=(0,a.Z)(e,o),u=(0,i.U$)(t.name),d=(0,r.Z)(u,2),m=d[0],x=d[1];return(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{className:"form-label px-3 text-secondary fw-bold",children:n}),(0,c.jsx)("textarea",(0,s.Z)((0,s.Z)((0,s.Z)({},m),t),{},{className:"form-control"})),x.touched&&x.error&&(0,c.jsx)(l.Z,{children:x.error})]})}},3876:function(e,n,t){t(2791);var s=t(3329);n.Z=function(e){var n=e.requirementsList;return(0,s.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,s.jsx)("p",{className:"mb-2 px-3 text-secondary fw-bolder",children:"required fields:"}),(0,s.jsx)("ul",{className:"list-group list-group-numbered",children:n.map((function(e,n){return(0,s.jsx)("li",{className:"list-group-item",children:e},n)}))})]})}},3764:function(e,n,t){var s=t(3329);n.Z=function(e){var n=e.children;return(0,s.jsx)("h4",{className:"text-center mb-3",children:n})}},8061:function(e,n,t){var s=t(7689),r=t(3329);n.Z=function(e){var n=e.path,t=e.children,a=(0,s.s0)();return(0,r.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(){return a(n)},children:t})}},9364:function(e,n,t){var s=t(3329);n.Z=function(e){var n=e.index,t=e.text;return(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)("span",{className:"px-3 badge rounded-pill text-bg-secondary ",children:"".concat(t," ").concat(n+1)})})}},598:function(e,n,t){var s=t(3329);n.Z=function(e){var n=e.children;return(0,s.jsx)("section",{className:"py-4",children:n})}},2204:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var s=t(2791),r=t(7689),a=t(9434),i=t(7211),l=t(7193),c=t(8070),o=t(3764),u=t(3876),d=t(4165),m=t(5861),x=t(2506),p=t(7744),b=t(9364),h=t(8061),f=t(6193),j=t(6008),v=t(7212),w=t(2049),N=t(3329),g=function(e){var n=e.newsItem,t=e.status,s=(0,a.I0)(),r=!n,i=function(){var e=(0,m.Z)((0,d.Z)().mark((function e(t,a){var i,l,c,o,u,m;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.title,l=t.body,c=t.date,o=t.image,u=t.links,(m=new FormData).append("news[title]",i.trim()),m.append("news[body]",l.trim()),m.append("news[date]",c.trim()),u.length&&u.forEach((function(e){m.append("news[links][]",e.trim())})),o&&m.append("news[image]",o),r?(s((0,p.J_)(m)),a.resetForm()):s((0,p.tg)({id:n.id,news:m})),window.scrollTo({top:0,behavior:"smooth"});case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,N.jsx)(x.J9,{initialValues:r?{title:"",body:"",date:"",links:[],image:""}:n,validationSchema:w.U.newsSchema,onSubmit:i,children:function(e){var n=e.isSubmitting||"pending"===t,s=r?"Create News":"Update nNws";return(0,N.jsxs)(x.l0,{children:[(0,N.jsx)(f.Z,{label:"News title",name:"title",type:"text",bsclass:"mb-3",autoFocus:!0}),(0,N.jsx)(j.Z,{label:"Description",name:"body",type:"text-area",rows:"5"}),(0,N.jsx)(f.Z,{label:"Date",name:"date",type:"text",bsclass:"mb-3"}),(0,N.jsx)("label",{htmlFor:"image",className:"form-label px-3 text-secondary fw-bold",children:"Image"}),(0,N.jsx)("input",{className:"form-control mb-3",id:"image",type:"file",onChange:function(n){e.setFieldValue("image",n.target.files[0])}}),(0,N.jsx)("div",{children:(0,N.jsx)(x.F2,{name:"links",children:function(e){var n=e.push,t=e.remove,s=e.form.values.links;return(0,N.jsx)(N.Fragment,{children:s&&s.length>0?(0,N.jsx)("ul",{className:"list-group",children:s.map((function(e,r){return(0,N.jsxs)("li",{className:"list-group-item border-2 mb-2",children:[s.length>1&&(0,N.jsx)(b.Z,{index:r,text:"link"}),(0,N.jsx)(f.Z,{type:"text",label:"Link",name:"links.".concat(r),bsclass:"mb-3"}),(0,N.jsx)("div",{className:"text-end",children:(0,N.jsxs)("div",{className:"btn-group",role:"group",children:[(0,N.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:function(){return t(r)},children:"remove the link"}),(0,N.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:function(){return n("")},children:"add a link"})]})})]},r)}))}):(0,N.jsx)("div",{className:"text-end",children:(0,N.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:function(){return n("")},children:"Add a link"})})})}})}),(0,N.jsx)("div",{className:"text-end mt-3",children:(0,N.jsxs)("div",{className:"btn-group",children:[(0,N.jsx)(h.Z,{path:"/news",children:"Cancel"}),(0,N.jsx)(v.Z,{text:s,disabled:n})]})})]})}})},y=t(598),Z=["News title","Date ( example: April 1, 2023 )"],k=function(e){var n=e.edit,t=(0,a.v9)(i.E),d=t.news,m=t.error,x=t.status,p=(0,c.V)(),b=p.alert,h=p.showAlert,f=(0,r.UO)().id,j=n?"Edit news card":"Create news card",v=null;return n&&(v=d.find((function(e){return e.id===parseInt(f)}))),(0,s.useEffect)((function(){"rejected"!==x?"fulfilled"!==x||h(n?"Card updated successfully":"Card created successfully","success"):h(m,"danger")}),[x]),(0,N.jsxs)(y.Z,{children:[(0,N.jsx)(l.Z,{state:b}),(0,N.jsx)(o.Z,{children:j}),(0,N.jsx)(u.Z,{requirementsList:Z}),(0,N.jsx)(g,{newsItem:n?v:null,status:x})]})}},7211:function(e,n,t){t.d(n,{E:function(){return s}});var s=function(e){return e.news}}}]);
//# sourceMappingURL=204.319dc7fc.chunk.js.map