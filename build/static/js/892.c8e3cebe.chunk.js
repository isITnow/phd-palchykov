"use strict";(self.webpackChunkphd_palchykov=self.webpackChunkphd_palchykov||[]).push([[892],{6008:function(e,t,n){var s=n(1413),r=n(9439),i=n(5987),a=n(2506),l=n(9578),c=n(3329),o=["label"];t.Z=function(e){var t=e.label,n=(0,i.Z)(e,o),u=(0,a.U$)(n.name),d=(0,r.Z)(u,2),m=d[0],h=d[1];return(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{className:"form-label px-3 text-secondary fw-bold",children:t}),(0,c.jsx)("textarea",(0,s.Z)((0,s.Z)((0,s.Z)({},m),n),{},{className:"form-control"})),h.touched&&h.error&&(0,c.jsx)(l.Z,{children:h.error})]})}},3876:function(e,t,n){n(2791);var s=n(3329);t.Z=function(e){var t=e.requirementsList;return(0,s.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,s.jsx)("p",{className:"mb-2 px-3 text-secondary fw-bolder",children:"required fields:"}),(0,s.jsx)("ul",{className:"list-group list-group-numbered",children:t.map((function(e,t){return(0,s.jsx)("li",{className:"list-group-item",children:e},t)}))})]})}},3764:function(e,t,n){var s=n(3329);t.Z=function(e){var t=e.children;return(0,s.jsx)("h4",{className:"text-center mb-3",children:t})}},8061:function(e,t,n){var s=n(7689),r=n(3329);t.Z=function(e){var t=e.path,n=e.children,i=(0,s.s0)();return(0,r.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(){return i(t)},children:n})}},9364:function(e,t,n){var s=n(3329);t.Z=function(e){var t=e.index,n=e.text;return(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)("span",{className:"px-3 badge rounded-pill text-bg-secondary ",children:"".concat(n," ").concat(t+1)})})}},598:function(e,t,n){var s=n(3329);t.Z=function(e){var t=e.children;return(0,s.jsx)("section",{className:"py-4",children:t})}},6892:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var s=n(2791),r=n(9434),i=n(5056),a=n(7193),l=n(8070),c=n(3764),o=n(3876),u=n(2506),d=n(3623),m=n(2049),h=n(9364),b=n(8061),x=n(6193),p=n(6008),f=n(7212),j=n(3329),v=function(e){var t=e.status,n=(0,r.I0)();return(0,j.jsx)(u.J9,{initialValues:{title:"",illustrationList:[{description:"",schema:"",sequence_number:0}],sourceList:[{source:"",source_url:""}]},validationSchema:m.U.researchSchema,onSubmit:function(e,t){var s=e.title,r=e.illustrationList,i=e.sourceList,a=[];r.forEach((function(e){var t=e.schema,n=e.description,s=e.sequence_number,r=new FormData;r.append("illustration[description]",n.trim()),r.append("illustration[sequence_number]",s),r.append("illustration[schema]",t),a.push(r)}));var l=new FormData,c={title:s,sourceList:i};l.append("research[payload]",JSON.stringify(c)),n((0,d.ey)({illustrationsData:a,research:l})),window.scrollTo({top:0,behavior:"smooth"}),t.resetForm()},children:function(e){var n=e.isSubmitting||"pending"===t;return(0,j.jsxs)(u.l0,{children:[(0,j.jsx)(x.Z,{label:"Research title",name:"title",type:"text",bsclass:"mb-3",autoFocus:!0}),(0,j.jsx)("div",{children:(0,j.jsx)(u.F2,{name:"illustrationList",children:function(t){var n=t.push,s=t.remove,r=t.form.values.illustrationList;return(0,j.jsx)(j.Fragment,{children:r&&r.length>0?(0,j.jsx)("ul",{className:"list-group",children:r.map((function(t,i){return(0,j.jsxs)("li",{className:"list-group-item border-2 mb-2",children:[r.length>1&&(0,j.jsx)(h.Z,{index:i,text:"illustration"}),(0,j.jsx)(p.Z,{label:"Description",type:"text-area",rows:"5",name:"illustrationList.".concat(i,".description")}),(0,j.jsx)("label",{htmlFor:"formFile",className:"form-label px-3 text-secondary fw-bold",children:"Illustration image"}),(0,j.jsx)("input",{className:"form-control mb-3",id:"formFile",type:"file",onChange:function(t){e.setFieldValue("illustrationList.".concat(i,".schema"),t.target.files[0])}}),(0,j.jsxs)("div",{className:"d-flex flex-column flex-md-row justify-content-md-between align-items-md-end",children:[(0,j.jsx)(x.Z,{label:"Sequence Num",type:"number",name:"illustrationList.".concat(i,".sequence_number")}),(0,j.jsxs)("div",{className:"btn-group mt-3 mt-md-0",role:"group",children:[(0,j.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:function(){return s(i)},children:"remove the illustration"}),(0,j.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:function(){return n({description:"",schema:"",sequence_number:0})},children:"add an illustration"})]})]})]},i)}))}):(0,j.jsx)("div",{className:"text-end",children:(0,j.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:function(){return n({description:"",schema:"",sequence_number:0})},children:"Add an illustration"})})})}})}),(0,j.jsx)("div",{className:"mt-3",children:(0,j.jsx)(u.F2,{name:"sourceList",children:function(e){var t=e.push,n=e.remove,s=e.form.values.sourceList;return(0,j.jsx)(j.Fragment,{children:s&&s.length>0?(0,j.jsx)("ul",{className:"list-group",children:s.map((function(e,r){return(0,j.jsxs)("li",{className:"list-group-item border-2 mb-2",children:[s.length>1&&(0,j.jsx)(h.Z,{index:r,text:"resource"}),(0,j.jsx)(x.Z,{type:"text",label:"Source",name:"sourceList.".concat(r,".source"),bsclass:"mb-3"}),(0,j.jsx)(x.Z,{type:"text",label:"Source URL",name:"sourceList.".concat(r,".source_url"),bsclass:"mb-3"}),(0,j.jsx)("div",{className:"text-end",children:(0,j.jsxs)("div",{className:"btn-group",role:"group",children:[(0,j.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:function(){return n(r)},children:"remove the source"}),(0,j.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:function(){return t({source:"",source_url:""})},children:"add a source"})]})})]},r)}))}):(0,j.jsx)("div",{className:"text-end",children:(0,j.jsx)("button",{type:"button",className:"btn  btn-outline-primary",onClick:function(){return t({source:"",source_url:""})},children:"Add a source"})})})}})}),(0,j.jsx)("div",{className:"text-end mt-3",children:(0,j.jsxs)("div",{className:"btn-group",children:[(0,j.jsx)(b.Z,{path:"/research",children:"Cancel"}),(0,j.jsx)(f.Z,{text:"Create Research card",disabled:n})]})})]})}})},N=n(598),y=["Research title","Description","Attachment ( illustration image )","Source","Source URL"],g=function(){var e=(0,r.v9)(i.T),t=e.status,n=e.error,u=(0,l.V)(),d=u.alert,m=u.showAlert;return(0,s.useEffect)((function(){if("rejected"!==t)if("fulfilled"!==t);else{m("Research created successfully","success")}else m(n,"danger")}),[t]),(0,j.jsxs)(N.Z,{children:[(0,j.jsx)(a.Z,{state:d}),(0,j.jsx)(c.Z,{children:"Create research"}),(0,j.jsx)(o.Z,{requirementsList:y}),(0,j.jsx)(v,{status:t})]})}},5056:function(e,t,n){n.d(t,{T:function(){return s}});var s=function(e){return e.researches}}}]);
//# sourceMappingURL=892.c8e3cebe.chunk.js.map